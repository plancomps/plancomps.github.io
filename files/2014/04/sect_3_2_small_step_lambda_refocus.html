<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>sect_3_2_small_step_lambda_refocus</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library sect_3_2_small_step_lambda_refocus</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab15"></a><h1 class="section">Refocused small-step syntax-directed MSOS for lambda-calculus</h1>

      with exception handling 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#"><span class="id" type="library">Coq.Lists.List</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.EqNat.html#"><span class="id" type="library">Coq.Arith.EqNat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Structures.Equalities.html#"><span class="id" type="library">Coq.Structures.Equalities</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Program.Equality.html#"><span class="id" type="library">Coq.Program.Equality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab16"></a><h2 class="section">Language syntax</h2>

</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Identifier"><span class="id" type="definition">Identifier</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Expr2"><span class="id" type="inductive">Expr2</span></a> :=<br/>
|   <a name="V2"><span class="id" type="constructor">V2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a><br/>
|   <a name="T2"><span class="id" type="constructor">T2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a><br/>
<span class="id" type="keyword">with</span> <a name="Val2"><span class="id" type="inductive">Val2</span></a> :=<br/>
|  <a name="NAT2"><span class="id" type="constructor">NAT2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a><br/>
|  <a name="CLO2"><span class="id" type="constructor">CLO2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a><br/>
| <a name="UNIT2"><span class="id" type="constructor">UNIT2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a><br/>
|  <a name="TRUE"><span class="id" type="constructor">TRUE</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a><br/>
| <a name="FALSE"><span class="id" type="constructor">FALSE</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a><br/>
|  <a name="VEXC"><span class="id" type="constructor">VEXC</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception2"><span class="id" type="inductive">Exception2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a><br/>
<span class="id" type="keyword">with</span> <a name="Trm2"><span class="id" type="inductive">Trm2</span></a> :=<br/>
|   <a name="VAR2"><span class="id" type="constructor">VAR2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a><br/>
|   <a name="APP2"><span class="id" type="constructor">APP2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a><br/>
|   <a name="ABS2"><span class="id" type="constructor">ABS2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a><br/>
| <a name="THROW2"><span class="id" type="constructor">THROW2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a><br/>
|    <a name="IF2"><span class="id" type="constructor">IF2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a><br/>
|    <a name="EQ2"><span class="id" type="constructor">EQ2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a><br/>
| <a name="CATCH2"><span class="id" type="constructor">CATCH2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm2"><span class="id" type="inductive">Trm2</span></a><br/>
<span class="id" type="keyword">with</span> <a name="Exception2"><span class="id" type="inductive">Exception2</span></a> :=<br/>
| <a name="TAU2"><span class="id" type="constructor">TAU2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception2"><span class="id" type="inductive">Exception2</span></a><br/>
| <a name="ERR2"><span class="id" type="constructor">ERR2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception2"><span class="id" type="inductive">Exception2</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="is_val2"><span class="id" type="definition">is_val2</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <span class="id" type="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab17"></a><h2 class="section">Auxiliary entities</h2>

<div class="paragraph"> </div>

 Environments 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Env2"><span class="id" type="definition">Env2</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a>).<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="map_lookup"><span class="id" type="definition">map_lookup</span></a> {<span class="id" type="var">Value</span> : <span class="id" type="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Value"><span class="id" type="variable">Value</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">i</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#m"><span class="id" type="variable">m</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" type="constructor">cons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">i'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="var">m'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="var">i'</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> =&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> <span class="id" type="var">m'</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#i"><span class="id" type="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="map_update"><span class="id" type="definition">map_update</span></a> {<span class="id" type="var">Value</span> : <span class="id" type="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Value"><span class="id" type="variable">Value</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">i</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">v</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Value"><span class="id" type="variable">Value</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#m"><span class="id" type="variable">m</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" type="constructor">cons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#i"><span class="id" type="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" type="constructor">cons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">i'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="var">m'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#i"><span class="id" type="variable">i</span></a> <span class="id" type="var">i'</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" type="constructor">cons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#i"><span class="id" type="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="var">m'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> =&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <span class="id" type="var">m'</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Divergence flag 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Div"><span class="id" type="inductive">Div</span></a> :=<br/>
| <a name="UPARROW"><span class="id" type="constructor">UPARROW</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a><br/>
| <a name="DNARROW"><span class="id" type="constructor">DNARROW</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">Exc2</span></span> read-write label component 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Exc2"><span class="id" type="definition">Exc2</span></a> := (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception2"><span class="id" type="inductive">Exception2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception2"><span class="id" type="inductive">Exception2</span></a>)%<span class="id" type="var">type</span>.<br/>

<br/>
</div>

<div class="doc">
Full label 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Label2"><span class="id" type="definition">Label2</span></a> := (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Env2"><span class="id" type="definition">Env2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exc2"><span class="id" type="definition">Exc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" type="inductive">unit</span></a>)%<span class="id" type="var">type</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="get_env2"><span class="id" type="definition">get_env2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Env2"><span class="id" type="definition">Env2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <span class="id" type="var">rho</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="get_div2"><span class="id" type="definition">get_div2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <span class="id" type="var">div</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="get_exc2"><span class="id" type="definition">get_exc2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exc2"><span class="id" type="definition">Exc2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <span class="id" type="var">exc</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="replace_env2"><span class="id" type="definition">replace_env2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) (<span class="id" type="var">rho</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Env2"><span class="id" type="definition">Env2</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="replace_div2"><span class="id" type="definition">replace_div2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) (<span class="id" type="var">div</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#div"><span class="id" type="variable">div</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="replace_exc2"><span class="id" type="definition">replace_exc2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) (<span class="id" type="var">exc</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exc2"><span class="id" type="definition">Exc2</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#exc"><span class="id" type="variable">exc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#True"><span class="id" type="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <span class="id" type="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">v'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab18"></a><h2 class="section">Small-step rules</h2>

<div class="paragraph"> </div>

 Auxiliary helper predicate for extracting the value from an
    error entity. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> (<span class="id" type="var">err</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception2"><span class="id" type="inductive">Exception2</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val2"><span class="id" type="inductive">Val2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#err"><span class="id" type="variable">err</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <span class="id" type="var">v</span> =&gt; <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT2"><span class="id" type="constructor">UNIT2</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Added <span class="inlinecode"><span class="id" type="var">STEP2_</span></span> <span class="inlinecode"><span class="id" type="var">M7</span></span> rule 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Step2"><span class="id" type="inductive">Step2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="STEP2_VAR"><span class="id" type="constructor">STEP2_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <span class="id" type="var">v</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR2"><span class="id" type="constructor">VAR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="STEP2_ABS"><span class="id" type="constructor">STEP2_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS2"><span class="id" type="constructor">ABS2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>)))<br/>
| <a name="STEP2_APP1"><span class="id" type="constructor">STEP2_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="STEP2_APP2"><span class="id" type="constructor">STEP2_APP2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">l</span> <span class="id" type="var">e2'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="STEP2_APP3"><span class="id" type="constructor">STEP2_APP3</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_env2"><span class="id" type="definition">replace_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
| <a name="STEP2_APP4"><span class="id" type="constructor">STEP2_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="STEP2_THROW"><span class="id" type="constructor">STEP2_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW2"><span class="id" type="constructor">THROW2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT2"><span class="id" type="constructor">UNIT2</span></a>)<br/>
| <a name="STEP2_IF"><span class="id" type="constructor">STEP2_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="STEP2_IFTRUE"><span class="id" type="constructor">STEP2_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
| <a name="STEP2_IFFALSE"><span class="id" type="constructor">STEP2_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
| <a name="STEP2_EQ1"><span class="id" type="constructor">STEP2_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="STEP2_EQ2"><span class="id" type="constructor">STEP2_EQ2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="STEP2_EQ"><span class="id" type="constructor">STEP2_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>)<br/>
| <a name="STEP2_EQN"><span class="id" type="constructor">STEP2_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>)<br/>
| <a name="STEP2_CATCH_V"><span class="id" type="constructor">STEP2_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="STEP2_CATCH"><span class="id" type="constructor">STEP2_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">a</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)))))).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Eval2"><span class="id" type="inductive">Eval2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="EVAL2"><span class="id" type="constructor">EVAL2</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="REFL2_V"><span class="id" type="constructor">REFL2_V</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="REFL2_ERR"><span class="id" type="constructor">REFL2_ERR</span></a> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab19"></a><h2 class="section">Refocusing</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

We refocus by:

<div class="paragraph"> </div>

1. introducing a refocusing rule;
2. specializing congruence rules; and
3. specializing evaluation rules.

<div class="paragraph"> </div>

<a name="lab20"></a><h3 class="section">1. Introduce refocusing rule</h3>

<div class="paragraph"> </div>

Introducing the <span class="inlinecode"><span class="id" type="var">REFOCUS</span></span> rule
 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="R1Step2"><span class="id" type="inductive">R1Step2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="R1REFOCUS"><span class="id" type="constructor">R1REFOCUS</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Eval2"><span class="id" type="inductive">R1Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a><br/>
| <a name="R1STEP2_VAR"><span class="id" type="constructor">R1STEP2_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <span class="id" type="var">v</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR2"><span class="id" type="constructor">VAR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R1STEP2_ABS"><span class="id" type="constructor">R1STEP2_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS2"><span class="id" type="constructor">ABS2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>)))<br/>
| <a name="R1STEP2_APP1"><span class="id" type="constructor">R1STEP2_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R1STEP2_APP2"><span class="id" type="constructor">R1STEP2_APP2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">l</span> <span class="id" type="var">e2'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="R1STEP2_APP3"><span class="id" type="constructor">R1STEP2_APP3</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_env2"><span class="id" type="definition">replace_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
| <a name="R1STEP2_APP4"><span class="id" type="constructor">R1STEP2_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R1STEP2_THROW"><span class="id" type="constructor">R1STEP2_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW2"><span class="id" type="constructor">THROW2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT2"><span class="id" type="constructor">UNIT2</span></a>)<br/>
| <a name="R1STEP2_IF"><span class="id" type="constructor">R1STEP2_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R1STEP2_IFTRUE"><span class="id" type="constructor">R1STEP2_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
| <a name="R1STEP2_IFFALSE"><span class="id" type="constructor">R1STEP2_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
| <a name="R1STEP2_EQ1"><span class="id" type="constructor">R1STEP2_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R1STEP2_EQ2"><span class="id" type="constructor">R1STEP2_EQ2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="R1STEP2_EQ"><span class="id" type="constructor">R1STEP2_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>)<br/>
| <a name="R1STEP2_EQN"><span class="id" type="constructor">R1STEP2_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>)<br/>
| <a name="R1STEP2_CATCH_V"><span class="id" type="constructor">R1STEP2_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="R1STEP2_CATCH"><span class="id" type="constructor">R1STEP2_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span> <span class="id" type="var">l'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>))))))<br/>
<span class="id" type="keyword">with</span> <a name="R1Eval2"><span class="id" type="inductive">R1Eval2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="R1EVAL2"><span class="id" type="constructor">R1EVAL2</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Step2"><span class="id" type="inductive">R1Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Eval2"><span class="id" type="inductive">R1Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Eval2"><span class="id" type="inductive">R1Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R1REFL2_V"><span class="id" type="constructor">R1REFL2_V</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Eval2"><span class="id" type="inductive">R1Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R1REFL2_ERR"><span class="id" type="constructor">R1REFL2_ERR</span></a> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R1Eval2"><span class="id" type="inductive">R1Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
The resulting relation allows big-steps that fully reduces terms
    to occur anywhere a small-step could occur. However, the
    definition is mutually inductive, and we are interested in
    obtaining a semantics which <i>always</i> reduces terms as far as
    possible. Motivated by this end, we specialize all congruence
    rules. 
<div class="paragraph"> </div>

<a name="lab21"></a><h3 class="section">2. Specialize congruence rules</h3>

<div class="paragraph"> </div>

All rules <span class="inlinecode">[<span class="id" type="var">R</span>]</span> of the form
<pre>
           t1 --&gt; e1'
-------------------------------- [R]
F(...,t1,...) --&gt; F(...,e1',...)
</pre>
are ufolded
<pre>
           t1 --&gt;* e1'
          ------------ [REFOCUS]
           t1 --&gt; e1'
-------------------------------- [R]
F(...,t1,...) --&gt; F(...,e1',...)
</pre>
into
<pre>
           t1 --&gt;* e1'
-------------------------------- [R-REFOCUS]
F(...,t1,...) --&gt; F(...,e1',...)
</pre>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="R2Step2"><span class="id" type="inductive">R2Step2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="R2STEP2_VAR"><span class="id" type="constructor">R2STEP2_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <span class="id" type="var">v</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR2"><span class="id" type="constructor">VAR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R2STEP2_ABS"><span class="id" type="constructor">R2STEP2_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS2"><span class="id" type="constructor">ABS2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>)))<br/>
| <a name="R2STEP2_APP1"><span class="id" type="constructor">R2STEP2_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R2STEP2_APP2"><span class="id" type="constructor">R2STEP2_APP2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">l</span> <span class="id" type="var">e2'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="R2STEP2_APP3"><span class="id" type="constructor">R2STEP2_APP3</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_env2"><span class="id" type="definition">replace_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
| <a name="R2STEP2_APP4"><span class="id" type="constructor">R2STEP2_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R2STEP2_THROW"><span class="id" type="constructor">R2STEP2_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW2"><span class="id" type="constructor">THROW2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT2"><span class="id" type="constructor">UNIT2</span></a>)<br/>
| <a name="R2STEP2_IF"><span class="id" type="constructor">R2STEP2_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R2STEP2_IFTRUE"><span class="id" type="constructor">R2STEP2_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
| <a name="R2STEP2_IFFALSE"><span class="id" type="constructor">R2STEP2_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
| <a name="R2STEP2_EQ1"><span class="id" type="constructor">R2STEP2_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R2STEP2_EQ2"><span class="id" type="constructor">R2STEP2_EQ2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="R2STEP2_EQ"><span class="id" type="constructor">R2STEP2_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>)<br/>
| <a name="R2STEP2_EQN"><span class="id" type="constructor">R2STEP2_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>)<br/>
| <a name="R2STEP2_CATCH_V"><span class="id" type="constructor">R2STEP2_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="R2STEP2_CATCH"><span class="id" type="constructor">R2STEP2_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span> <span class="id" type="var">l'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>))))))<br/>
<span class="id" type="keyword">with</span> <a name="R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="R2EVAL2"><span class="id" type="constructor">R2EVAL2</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Step2"><span class="id" type="inductive">R2Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R2REFL2_V"><span class="id" type="constructor">R2REFL2_V</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R2REFL2_ERR"><span class="id" type="constructor">R2REFL2_ERR</span></a> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R2Eval2"><span class="id" type="inductive">R2Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
The resulting semantics fully reduces sub-terms whenever a
    congruence rule is applied. However, <span class="inlinecode"><span class="id" type="var">R2Step2</span></span> and <span class="inlinecode"><span class="id" type="var">R2Eval2</span></span>
    remain mutually inductive. We unfold the <span class="inlinecode"><span class="id" type="var">R2EVAL2</span></span> rule to
    eliminate the mutual dependency. 
<div class="paragraph"> </div>

<a name="lab22"></a><h3 class="section">Step 3. Specialize evaluation rules</h3>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

 For each rule <span class="inlinecode">[<span class="id" type="var">R</span>-<span class="id" type="var">REFOCUS</span>]</span> we unfold the evaluation rule:
<pre>
 e --&gt; e'    e' --&gt;* e''
 ----------------------- [EVAL]
       e --&gt;* e''

           t1 --&gt;* e1'
 -------------------------------- [R-REFOCUS]
 F(...,t1,...) --&gt; F(...,e1',...)              F(...,e1',...) --&gt;* e''
 --------------------------------------------------------------------- [EVAL]
           F(...,t1,...) --&gt; e''
</pre>
 which gives the pretty-big-step rule:
<pre>


 t1 --&gt;* e1'    F(...,e1',...) --&gt;* e''
 -------------------------------------- [R-PBS]
        F(...,t1,...) --&gt; e''
</pre>
 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="R3Step2"><span class="id" type="inductive">R3Step2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="R3STEP2_VAR"><span class="id" type="constructor">R3STEP2_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <span class="id" type="var">v</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR2"><span class="id" type="constructor">VAR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R3STEP2_ABS"><span class="id" type="constructor">R3STEP2_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS2"><span class="id" type="constructor">ABS2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env2"><span class="id" type="definition">get_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>)))<br/>
| <a name="R3STEP2_APP1"><span class="id" type="constructor">R3STEP2_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R3STEP2_APP2"><span class="id" type="constructor">R3STEP2_APP2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">l</span> <span class="id" type="var">e2'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="R3STEP2_APP3"><span class="id" type="constructor">R3STEP2_APP3</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_env2"><span class="id" type="definition">replace_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
| <a name="R3STEP2_APP4"><span class="id" type="constructor">R3STEP2_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R3STEP2_THROW"><span class="id" type="constructor">R3STEP2_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW2"><span class="id" type="constructor">THROW2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT2"><span class="id" type="constructor">UNIT2</span></a>)<br/>
| <a name="R3STEP2_IF"><span class="id" type="constructor">R3STEP2_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R3STEP2_IFTRUE"><span class="id" type="constructor">R3STEP2_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
| <a name="R3STEP2_IFFALSE"><span class="id" type="constructor">R3STEP2_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
| <a name="R3STEP2_EQ1"><span class="id" type="constructor">R3STEP2_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="R3STEP2_EQ2"><span class="id" type="constructor">R3STEP2_EQ2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="R3STEP2_EQ"><span class="id" type="constructor">R3STEP2_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>)<br/>
| <a name="R3STEP2_EQN"><span class="id" type="constructor">R3STEP2_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>)<br/>
| <a name="R3STEP2_CATCH_V"><span class="id" type="constructor">R3STEP2_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="R3STEP2_CATCH"><span class="id" type="constructor">R3STEP2_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span> <span class="id" type="var">l'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Step2"><span class="id" type="inductive">R3Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>))))))<br/>
<span class="id" type="keyword">with</span> <a name="R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="R3EVAL2_VAR"><span class="id" type="constructor">R3EVAL2_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">env</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR2"><span class="id" type="constructor">VAR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R3EVAL2_ABS"><span class="id" type="constructor">R3EVAL2_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS2"><span class="id" type="constructor">ABS2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a>))<br/>
| <a name="R3EVAL2_APP1"><span class="id" type="constructor">R3EVAL2_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_APP2"><span class="id" type="constructor">R3EVAL2_APP2</span></a> <span class="id" type="var">t2</span> <span class="id" type="var">a</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">a'</span> <span class="id" type="var">env</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_APP3"><span class="id" type="constructor">R3EVAL2_APP3</span></a> <span class="id" type="var">t</span> <span class="id" type="var">rho</span> <span class="id" type="var">x</span> <span class="id" type="var">v2</span> <span class="id" type="var">a</span> <span class="id" type="var">e'</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_APP4"><span class="id" type="constructor">R3EVAL2_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">env</span> <span class="id" type="var">v2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R3EVAL2_THROW"><span class="id" type="constructor">R3EVAL2_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW2"><span class="id" type="constructor">THROW2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT2"><span class="id" type="constructor">UNIT2</span></a>)<br/>
| <a name="R3EVAL2_IF"><span class="id" type="constructor">R3EVAL2_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_IFTRUE"><span class="id" type="constructor">R3EVAL2_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_IFFALSE"><span class="id" type="constructor">R3EVAL2_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_EQ1"><span class="id" type="constructor">R3EVAL2_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">env</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_EQ2"><span class="id" type="constructor">R3EVAL2_EQ2</span></a> <span class="id" type="var">t2</span> <span class="id" type="var">env</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3EVAL2_EQ"><span class="id" type="constructor">R3EVAL2_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>)<br/>
| <a name="R3EVAL2_EQN"><span class="id" type="constructor">R3EVAL2_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>)<br/>
| <a name="R3EVAL2_CATCH_V"><span class="id" type="constructor">R3EVAL2_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="R3EVAL2_CATCH"><span class="id" type="constructor">R3EVAL2_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>))))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="R3REFL2_V"><span class="id" type="constructor">R3REFL2_V</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="R3REFL2_ERR"><span class="id" type="constructor">R3REFL2_ERR</span></a> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#R3Eval2"><span class="id" type="inductive">R3Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
The resulting definition of <span class="inlinecode"><span class="id" type="var">R3Eval2</span></span> is fully reducing and does not
depend on the definition of <span class="inlinecode"><span class="id" type="var">R3Step2</span></span>. Furthermore, we notice that <span class="inlinecode"><span class="id" type="var">R3Eval2</span></span>
1. evaluates a single sub-term at a time; and
2. is syntax-directed.
The defined relation is therefore a pretty-big-step relation. We
rename our definition and remove redundant rules.
 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="PBStep1"><span class="id" type="inductive">PBStep1</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="PBSTEP1_VAR"><span class="id" type="constructor">PBSTEP1_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">env</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR2"><span class="id" type="constructor">VAR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="PBSTEP1_ABS"><span class="id" type="constructor">PBSTEP1_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS2"><span class="id" type="constructor">ABS2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a>))<br/>
| <a name="PBSTEP1_APP1"><span class="id" type="constructor">PBSTEP1_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_APP2"><span class="id" type="constructor">PBSTEP1_APP2</span></a> <span class="id" type="var">t2</span> <span class="id" type="var">a</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">a'</span> <span class="id" type="var">env</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_APP3"><span class="id" type="constructor">PBSTEP1_APP3</span></a> <span class="id" type="var">t</span> <span class="id" type="var">rho</span> <span class="id" type="var">x</span> <span class="id" type="var">v2</span> <span class="id" type="var">a</span> <span class="id" type="var">e'</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_APP4"><span class="id" type="constructor">PBSTEP1_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">env</span> <span class="id" type="var">v2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="PBSTEP1_THROW"><span class="id" type="constructor">PBSTEP1_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW2"><span class="id" type="constructor">THROW2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT2"><span class="id" type="constructor">UNIT2</span></a>)<br/>
| <a name="PBSTEP1_IF"><span class="id" type="constructor">PBSTEP1_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_IFTRUE"><span class="id" type="constructor">PBSTEP1_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_IFFALSE"><span class="id" type="constructor">PBSTEP1_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_EQ1"><span class="id" type="constructor">PBSTEP1_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">env</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_EQ2"><span class="id" type="constructor">PBSTEP1_EQ2</span></a> <span class="id" type="var">t2</span> <span class="id" type="var">env</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP1_EQ"><span class="id" type="constructor">PBSTEP1_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE"><span class="id" type="constructor">TRUE</span></a>)<br/>
| <a name="PBSTEP1_EQN"><span class="id" type="constructor">PBSTEP1_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE"><span class="id" type="constructor">FALSE</span></a>)<br/>
| <a name="PBSTEP1_CATCH_V"><span class="id" type="constructor">PBSTEP1_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="PBSTEP1_CATCH"><span class="id" type="constructor">PBSTEP1_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>))))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBREFL_V"><span class="id" type="constructor">PBREFL_V</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="PBREFL_ERR"><span class="id" type="constructor">PBREFL_ERR</span></a> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label2"><span class="id" type="definition">unobs_label2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

We now prove the correctness of this transformation.

<div class="paragraph"> </div>

 
<div class="paragraph"> </div>

<a name="lab23"></a><h2 class="section">Correctness of refocusing</h2>

<div class="paragraph"> </div>

<a name="lab24"></a><h3 class="section">Transitive closure of small-step evaluation</h3>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Trans2"><span class="id" type="inductive">Trans2</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label2"><span class="id" type="definition">Label2</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr2"><span class="id" type="inductive">Expr2</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="TRANS2"><span class="id" type="constructor">TRANS2</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="REFL2"><span class="id" type="constructor">REFL2</span></a> <span class="id" type="var">env</span> <span class="id" type="var">e</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
Proof that transitive closure corresponds to iteration relation.

</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="trans_v_sound"><span class="id" type="lemma">trans_v_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val2"><span class="id" type="definition">is_val2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EVAL2"><span class="id" type="constructor">EVAL2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2_V"><span class="id" type="constructor">REFL2_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="trans_e_sound"><span class="id" type="lemma">trans_e_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EVAL2"><span class="id" type="constructor">EVAL2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2_ERR"><span class="id" type="constructor">REFL2_ERR</span></a>; <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="trans_v_complete"><span class="id" type="lemma">trans_v_complete</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val2"><span class="id" type="definition">is_val2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHEval2</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="trans_e_complete"><span class="id" type="lemma">trans_e_complete</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHEval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab25"></a><h3 class="section">Soundness of refocusing</h3>

<div class="paragraph"> </div>

Proof that the refocused relation corresponds to the transitive
closure of the small-step relation following Leroy, Grall, and
Ciobaca.
 
<div class="paragraph"> </div>

 Transitivity of  <span class="inlinecode"><span class="id" type="var">Trans2</span></span> 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="trans"><span class="id" type="lemma">trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <span class="id" type="var">IHTrans2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A single step is an instance of a transitive step 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="single_trans"><span class="id" type="lemma">single_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step2"><span class="id" type="inductive">Step2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Congruence proofs 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="congruence_app1"><span class="id" type="lemma">congruence_app1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_APP1"><span class="id" type="constructor">STEP2_APP1</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence_app2"><span class="id" type="lemma">congruence_app2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_APP2"><span class="id" type="constructor">STEP2_APP2</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence_app3"><span class="id" type="lemma">congruence_app3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_env2"><span class="id" type="definition">replace_env2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- </div>

<div class="doc">
If we try to <span class="inlinecode"><span class="id" type="tactic">eapply</span></span> <span class="inlinecode"><span class="id" type="var">TRANS2</span></span> Coq reports:
<pre>
Error: Impossible to unify
 "Trans2 (T2 ?1996) (?1999, DNARROW, (TAU2, ?2001), tt) ?1998" with
 "Trans2 (T2 (APP2 (V2 (CLO2 x (T2 t1) rho)) (V2 v2))) l
    (T2 (APP2 (V2 (CLO2 x e3 rho)) (V2 v2)))".
</pre>
To resolve this we unfold the label and use dependent equality. 
</div>
<div class="code">
<span class="id" type="keyword">Abort</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence_app3"><span class="id" type="lemma">congruence_app3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">a'</span> <span class="id" type="var">env</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO2"><span class="id" type="constructor">CLO2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))).<br/>
<span class="id" type="keyword">Proof</span>. &nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize_eqs</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_APP3"><span class="id" type="constructor">STEP2_APP3</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence_if"><span class="id" type="lemma">congruence_if</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IF"><span class="id" type="constructor">STEP2_IF</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence_eq1"><span class="id" type="lemma">congruence_eq1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQ1"><span class="id" type="constructor">STEP2_EQ1</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence_eq2"><span class="id" type="lemma">congruence_eq2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQ2"><span class="id" type="constructor">STEP2_EQ2</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">Trans2</span></span> gives an intermediate term, a value, or an abruptly
    terminated term.  
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="trans_ter"><span class="id" type="lemma">trans_ter</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val2"><span class="id" type="definition">is_val2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val2"><span class="id" type="definition">is_val2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">IHTrans2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The lemma that we want about catch is the following: 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="congruence_catch_value"><span class="id" type="lemma">congruence_catch_value</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val2"><span class="id" type="definition">is_val2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>)))))).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_CATCH"><span class="id" type="constructor">STEP2_CATCH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e3</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IF"><span class="id" type="constructor">STEP2_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQ"><span class="id" type="constructor">STEP2_EQ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IFTRUE"><span class="id" type="constructor">STEP2_IFTRUE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_CATCH_V"><span class="id" type="constructor">STEP2_CATCH_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
</div>

<div class="doc">
At this point we are stuck. Proving this case requires us to
    either modify our relation to be modulo a suitable notion of
    similarity.

<div class="paragraph"> </div>

    An alternative approach is to give a simpler lemma, which we opt
    for here. 
</div>
<div class="code">
<span class="id" type="keyword">Abort</span>.<br/>

<br/>
</div>

<div class="doc">
A simpler lemma: 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="congruence_catch_value"><span class="id" type="lemma">congruence_catch_value</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val2"><span class="id" type="definition">is_val2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_CATCH"><span class="id" type="constructor">STEP2_CATCH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e3</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IF"><span class="id" type="constructor">STEP2_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQ"><span class="id" type="constructor">STEP2_EQ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IFTRUE"><span class="id" type="constructor">STEP2_IFTRUE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_CATCH_V"><span class="id" type="constructor">STEP2_CATCH_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Similarly for the case where abrupt termination occurs: 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="congruence_catch_abr_ter"><span class="id" type="lemma">congruence_catch_abr_ter</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span> <span class="id" type="var">l'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc2"><span class="id" type="definition">get_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc2"><span class="id" type="definition">replace_exc2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a>)))).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_CATCH"><span class="id" type="constructor">STEP2_CATCH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IF"><span class="id" type="constructor">STEP2_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQ"><span class="id" type="constructor">STEP2_EQ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IFTRUE"><span class="id" type="constructor">STEP2_IFTRUE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IF"><span class="id" type="constructor">STEP2_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQN"><span class="id" type="constructor">STEP2_EQN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_IFFALSE"><span class="id" type="constructor">STEP2_IFFALSE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="tactic">solve</span> := <span class="id" type="tactic">try</span> <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">assumption</span>.<br/>

<br/>
</div>

<div class="doc">
We try to prove our soundness theorem: 
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="refocus_sound"><span class="id" type="lemma">refocus_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_app1"><span class="id" type="lemma">congruence_app1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_app2"><span class="id" type="lemma">congruence_app2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_app3"><span class="id" type="lemma">congruence_app3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_if"><span class="id" type="lemma">congruence_if</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>. <span class="id" type="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>. <span class="id" type="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_eq1"><span class="id" type="lemma">congruence_eq1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_eq2"><span class="id" type="lemma">congruence_eq2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQN"><span class="id" type="constructor">STEP2_EQN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- </div>

<div class="doc">
Proving this case would be straightforward given a lemma of
        the form that we originally envisaged for
        <span class="inlinecode"><span class="id" type="var">congruence_catch_value</span></span>. Instead, we need to prove a few
        properties about the derivation of <span class="inlinecode"><span class="id" type="var">IF</span></span> terms of the
        particular structure that we get in this particular case of
        the soundness proof. We give these before returning to this
        theorem. 
</div>
<div class="code">
<span class="id" type="keyword">Abort</span>.<br/>

<br/>
</div>

<div class="doc">
Helper lemma for <span class="inlinecode"><span class="id" type="var">congruence_catch_value</span></span> case. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="pb_if_eq_catch_v"><span class="id" type="lemma">pb_if_eq_catch_v</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>; <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H8</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Helper lemma for <span class="inlinecode"><span class="id" type="var">congruence_catch_abr_ter</span></span> case. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="pb_if_neq_catch_abr_ter"><span class="id" type="definition">pb_if_neq_catch_abr_ter</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>))) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH2"><span class="id" type="constructor">CATCH2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)))))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Helper lemma for <span class="inlinecode"><span class="id" type="var">congruence_catch_abr_ter</span></span> case. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="eval_if_neq_catch_abr_ter"><span class="id" type="definition">eval_if_neq_catch_abr_ter</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF2"><span class="id" type="constructor">IF2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ2"><span class="id" type="constructor">EQ2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>))) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VEXC"><span class="id" type="constructor">VEXC</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)))))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval2"><span class="id" type="inductive">Eval2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T2"><span class="id" type="constructor">T2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP2"><span class="id" type="constructor">APP2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V2"><span class="id" type="constructor">V2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unwrap_err2"><span class="id" type="definition">unwrap_err2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR2"><span class="id" type="constructor">ERR2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">e'</span> <span class="id" type="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H10</span>; <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H8</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Helper lemma: we prove that pretty-big-step evaluation always
produces a value or an abruptly terminated label. Convenient for
contradicting a nonsensical case in connection with the <span class="inlinecode"><span class="id" type="var">catch</span></span>
case. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="pbstep_ter"><span class="id" type="lemma">pbstep_ter</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val2"><span class="id" type="definition">is_val2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter2"><span class="id" type="definition">is_abr_ter2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">IHPBStep1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">left</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">IHPBStep1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">left</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="refocus_sound"><span class="id" type="lemma">refocus_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep1"><span class="id" type="inductive">PBStep1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans2"><span class="id" type="inductive">Trans2</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_app1"><span class="id" type="lemma">congruence_app1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_app2"><span class="id" type="lemma">congruence_app2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_app3"><span class="id" type="lemma">congruence_app3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_if"><span class="id" type="lemma">congruence_if</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>. <span class="id" type="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>. <span class="id" type="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_eq1"><span class="id" type="lemma">congruence_eq1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_eq2"><span class="id" type="lemma">congruence_eq2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS2"><span class="id" type="constructor">TRANS2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP2_EQN"><span class="id" type="constructor">STEP2_EQN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU2"><span class="id" type="constructor">TAU2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_catch_value"><span class="id" type="lemma">congruence_catch_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#pb_if_eq_catch_v"><span class="id" type="lemma">pb_if_eq_catch_v</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#pbstep_ter"><span class="id" type="lemma">pbstep_ter</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans"><span class="id" type="lemma">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence_catch_abr_ter"><span class="id" type="lemma">congruence_catch_abr_ter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#pb_if_neq_catch_abr_ter"><span class="id" type="definition">pb_if_neq_catch_abr_ter</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#pbstep_ter"><span class="id" type="lemma">pbstep_ter</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">destruct</span> <span class="id" type="var">e3</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans_v_complete"><span class="id" type="lemma">trans_v_complete</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans_v_sound"><span class="id" type="lemma">trans_v_sound</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#eval_if_neq_catch_abr_ter"><span class="id" type="definition">eval_if_neq_catch_abr_ter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans_e_complete"><span class="id" type="lemma">trans_e_complete</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans_e_sound"><span class="id" type="lemma">trans_e_sound</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHPBStep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#eval_if_neq_catch_abr_ter"><span class="id" type="definition">eval_if_neq_catch_abr_ter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep1_2</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL2"><span class="id" type="constructor">REFL2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This concludes our proof of soundness of the semantics resulting
for refocusing.

<div class="paragraph"> </div>

The soundness proof given here was somewhat tedious, due to the
non-compositional nature of our catch-rule. It is possible to
incrementally factor the rules for catch into a compositional
semantics.

<div class="paragraph"> </div>

Since we will be extending our language, we perform this
factorization, and use the modified semantics from here on out. 
<div class="paragraph"> </div>

<a name="lab26"></a><h3 class="section">Soundness of refocusing -- factored</h3>

<div class="paragraph"> </div>

 The updated language syntax is: 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Expr3"><span class="id" type="inductive">Expr3</span></a> :=<br/>
|   <a name="V3"><span class="id" type="constructor">V3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a><br/>
|   <a name="T3"><span class="id" type="constructor">T3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a><br/>
<span class="id" type="keyword">with</span> <a name="Val3"><span class="id" type="inductive">Val3</span></a> :=<br/>
|   <a name="NAT3"><span class="id" type="constructor">NAT3</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a><br/>
|   <a name="CLO3"><span class="id" type="constructor">CLO3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a><br/>
|  <a name="UNIT3"><span class="id" type="constructor">UNIT3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a><br/>
|  <a name="TRUE3"><span class="id" type="constructor">TRUE3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a><br/>
| <a name="FALSE3"><span class="id" type="constructor">FALSE3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a><br/>
|  <a name="VEXC3"><span class="id" type="constructor">VEXC3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception3"><span class="id" type="inductive">Exception3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a><br/>
<span class="id" type="keyword">with</span> <a name="Trm3"><span class="id" type="inductive">Trm3</span></a> :=<br/>
|   <a name="VAR3"><span class="id" type="constructor">VAR3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a><br/>
|   <a name="APP3"><span class="id" type="constructor">APP3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a><br/>
|   <a name="ABS3"><span class="id" type="constructor">ABS3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a><br/>
| <a name="THROW3"><span class="id" type="constructor">THROW3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a><br/>
|    <a name="IF3"><span class="id" type="constructor">IF3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a><br/>
|    <a name="EQ3"><span class="id" type="constructor">EQ3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a><br/>
| <a name="CATCH3"><span class="id" type="constructor">CATCH3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception3"><span class="id" type="inductive">Exception3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trm3"><span class="id" type="inductive">Trm3</span></a><br/>
<span class="id" type="keyword">with</span> <a name="Exception3"><span class="id" type="inductive">Exception3</span></a> :=<br/>
| <a name="TAU3"><span class="id" type="constructor">TAU3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception3"><span class="id" type="inductive">Exception3</span></a><br/>
| <a name="ERR3"><span class="id" type="constructor">ERR3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception3"><span class="id" type="inductive">Exception3</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="is_val3"><span class="id" type="definition">is_val3</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <span class="id" type="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab27"></a><h2 class="section">Auxiliary entities</h2>

<div class="paragraph"> </div>

 Environments 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Env3"><span class="id" type="definition">Env3</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Identifier"><span class="id" type="definition">Identifier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Val3"><span class="id" type="inductive">Val3</span></a>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">Exc3</span></span> read-write label component 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Exc3"><span class="id" type="definition">Exc3</span></a> := (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception3"><span class="id" type="inductive">Exception3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exception3"><span class="id" type="inductive">Exception3</span></a>)%<span class="id" type="var">type</span>.<br/>

<br/>
</div>

<div class="doc">
Full label 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Label3"><span class="id" type="definition">Label3</span></a> := (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Env3"><span class="id" type="definition">Env3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exc3"><span class="id" type="definition">Exc3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" type="inductive">unit</span></a>)%<span class="id" type="var">type</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="get_env3"><span class="id" type="definition">get_env3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Env3"><span class="id" type="definition">Env3</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <span class="id" type="var">rho</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="get_div3"><span class="id" type="definition">get_div3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <span class="id" type="var">div</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="get_exc3"><span class="id" type="definition">get_exc3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exc3"><span class="id" type="definition">Exc3</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <span class="id" type="var">exc</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="replace_env3"><span class="id" type="definition">replace_env3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) (<span class="id" type="var">rho</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Env3"><span class="id" type="definition">Env3</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="replace_div3"><span class="id" type="definition">replace_div3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) (<span class="id" type="var">div</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Div"><span class="id" type="inductive">Div</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#div"><span class="id" type="variable">div</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="replace_exc3"><span class="id" type="definition">replace_exc3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) (<span class="id" type="var">exc</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Exc3"><span class="id" type="definition">Exc3</span></a>) : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">exc'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">rho</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">div</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#exc"><span class="id" type="variable">exc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">tail</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="unobs_label3"><span class="id" type="definition">unobs_label3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#True"><span class="id" type="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <span class="id" type="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">v'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="is_abr_ter3"><span class="id" type="definition">is_abr_ter3</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="PBStep3"><span class="id" type="inductive">PBStep3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="PBSTEP3_VAR"><span class="id" type="constructor">PBSTEP3_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">env</span> <span class="id" type="var">v</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR3"><span class="id" type="constructor">VAR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="PBSTEP3_ABS"><span class="id" type="constructor">PBSTEP3_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS3"><span class="id" type="constructor">ABS3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a>))<br/>
| <a name="PBSTEP3_APP1"><span class="id" type="constructor">PBSTEP3_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_APP2"><span class="id" type="constructor">PBSTEP3_APP2</span></a> <span class="id" type="var">t2</span> <span class="id" type="var">a</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">a'</span> <span class="id" type="var">env</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_APP3"><span class="id" type="constructor">PBSTEP3_APP3</span></a> <span class="id" type="var">t</span> <span class="id" type="var">rho</span> <span class="id" type="var">x</span> <span class="id" type="var">v2</span> <span class="id" type="var">a</span> <span class="id" type="var">e'</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_APP4"><span class="id" type="constructor">PBSTEP3_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">env</span> <span class="id" type="var">v2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="PBSTEP3_THROW"><span class="id" type="constructor">PBSTEP3_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW3"><span class="id" type="constructor">THROW3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT3"><span class="id" type="constructor">UNIT3</span></a>)<br/>
| <a name="PBSTEP3_IF"><span class="id" type="constructor">PBSTEP3_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_IFTRUE"><span class="id" type="constructor">PBSTEP3_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE3"><span class="id" type="constructor">TRUE3</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_IFFALSE"><span class="id" type="constructor">PBSTEP3_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE3"><span class="id" type="constructor">FALSE3</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_EQ1"><span class="id" type="constructor">PBSTEP3_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">env</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_EQ2"><span class="id" type="constructor">PBSTEP3_EQ2</span></a> <span class="id" type="var">t2</span> <span class="id" type="var">env</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">e3</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_EQ"><span class="id" type="constructor">PBSTEP3_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE3"><span class="id" type="constructor">TRUE3</span></a>)<br/>
| <a name="PBSTEP3_EQN"><span class="id" type="constructor">PBSTEP3_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE3"><span class="id" type="constructor">FALSE3</span></a>)<br/>
| <a name="PBSTEP3_CATCH_V"><span class="id" type="constructor">PBSTEP3_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="PBSTEP3_CATCH_ERR"><span class="id" type="constructor">PBSTEP3_CATCH_ERR</span></a> <span class="id" type="var">v</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBSTEP3_CATCH"><span class="id" type="constructor">PBSTEP3_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc3"><span class="id" type="definition">get_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc3"><span class="id" type="definition">replace_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
By an equally straightforward transformation, we can go back to a
    small-step semantics 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Step3"><span class="id" type="inductive">Step3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="STEP3_VAR"><span class="id" type="constructor">STEP3_VAR</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <span class="id" type="var">v</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_lookup"><span class="id" type="definition">map_lookup</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env3"><span class="id" type="definition">get_env3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#VAR3"><span class="id" type="constructor">VAR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="STEP3_ABS"><span class="id" type="constructor">STEP3_ABS</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ABS3"><span class="id" type="constructor">ABS3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_env3"><span class="id" type="definition">get_env3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a>)))<br/>
| <a name="STEP3_APP1"><span class="id" type="constructor">STEP3_APP1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="STEP3_APP2"><span class="id" type="constructor">STEP3_APP2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">l</span> <span class="id" type="var">e2'</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="STEP3_APP3"><span class="id" type="constructor">STEP3_APP3</span></a> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_env3"><span class="id" type="definition">replace_env3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
| <a name="STEP3_APP4"><span class="id" type="constructor">STEP3_APP4</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="STEP3_THROW"><span class="id" type="constructor">STEP3_THROW</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc3"><span class="id" type="definition">get_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc3"><span class="id" type="definition">replace_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#THROW3"><span class="id" type="constructor">THROW3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#UNIT3"><span class="id" type="constructor">UNIT3</span></a>)<br/>
| <a name="STEP3_IF"><span class="id" type="constructor">STEP3_IF</span></a> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="STEP3_IFTRUE"><span class="id" type="constructor">STEP3_IFTRUE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE3"><span class="id" type="constructor">TRUE3</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a><br/>
| <a name="STEP3_IFFALSE"><span class="id" type="constructor">STEP3_IFFALSE</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE3"><span class="id" type="constructor">FALSE3</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a><br/>
| <a name="STEP3_EQ1"><span class="id" type="constructor">STEP3_EQ1</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
| <a name="STEP3_EQ2"><span class="id" type="constructor">STEP3_EQ2</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>))<br/>
| <a name="STEP3_EQ"><span class="id" type="constructor">STEP3_EQ</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRUE3"><span class="id" type="constructor">TRUE3</span></a>)<br/>
| <a name="STEP3_EQN"><span class="id" type="constructor">STEP3_EQN</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#FALSE3"><span class="id" type="constructor">FALSE3</span></a>)<br/>
| <a name="STEP3_CATCH_V"><span class="id" type="constructor">STEP3_CATCH_V</span></a> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>)<br/>
| <a name="STEP3_CATCH_ERR"><span class="id" type="constructor">STEP3_CATCH_ERR</span></a> <span class="id" type="var">v</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)))<br/>
| <a name="STEP3_CATCH"><span class="id" type="constructor">STEP3_CATCH</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">a</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc3"><span class="id" type="definition">get_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc3"><span class="id" type="definition">replace_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Eval3"><span class="id" type="inductive">Eval3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="EVAL3"><span class="id" type="constructor">EVAL3</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="REFL3_V"><span class="id" type="constructor">REFL3_V</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a>)<br/>
| <a name="REFL3_ERR"><span class="id" type="constructor">REFL3_ERR</span></a> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc3"><span class="id" type="definition">get_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc3"><span class="id" type="definition">replace_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
Transitive closure 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Trans3"><span class="id" type="inductive">Trans3</span></a> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Label3"><span class="id" type="definition">Label3</span></a> -&gt; <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Expr3"><span class="id" type="inductive">Expr3</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
| <a name="TRANS3"><span class="id" type="constructor">TRANS3</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a><br/>
| <a name="REFL3"><span class="id" type="constructor">REFL3</span></a> <span class="id" type="var">env</span> <span class="id" type="var">e</span> <span class="id" type="var">a</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
Proof that transitive closure corresponds to iteration relation.

</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="trans3_v_sound"><span class="id" type="lemma">trans3_v_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val3"><span class="id" type="definition">is_val3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EVAL3"><span class="id" type="constructor">EVAL3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3_V"><span class="id" type="constructor">REFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="trans3_e_sound"><span class="id" type="lemma">trans3_e_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter3"><span class="id" type="definition">is_abr_ter3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EVAL3"><span class="id" type="constructor">EVAL3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3_ERR"><span class="id" type="constructor">REFL3_ERR</span></a>; <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="trans3_v_complete"><span class="id" type="lemma">trans3_v_complete</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val3"><span class="id" type="definition">is_val3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHEval3</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="trans3_e_complete"><span class="id" type="lemma">trans3_e_complete</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Eval3"><span class="id" type="inductive">Eval3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter3"><span class="id" type="definition">is_abr_ter3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHEval3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Proof that the refocused relation corresponds to the transitive
closure of the small-step relation following Leroy, Grall, and
Ciobaca.
 
<div class="paragraph"> </div>

 Transitivity of  <span class="inlinecode"><span class="id" type="var">Trans3</span></span> 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="trans3"><span class="id" type="lemma">trans3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <span class="id" type="var">IHTrans3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A single step constitutes an instance of a transitive step 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="single_trans3"><span class="id" type="lemma">single_trans3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Congruence proofs 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="congruence3_app1"><span class="id" type="lemma">congruence3_app1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_APP1"><span class="id" type="constructor">STEP3_APP1</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence3_app2"><span class="id" type="lemma">congruence3_app2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">v1</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_APP2"><span class="id" type="constructor">STEP3_APP2</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence3_app3"><span class="id" type="lemma">congruence3_app3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_env3"><span class="id" type="definition">replace_env3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- </div>

<div class="doc">
If we try to <span class="inlinecode"><span class="id" type="tactic">eapply</span></span> <span class="inlinecode"><span class="id" type="var">TRANS2</span></span> Coq reports:
<pre>
Error: Impossible to unify
 "Trans2 (T2 ?1996) (?1999, DNARROW, (TAU2, ?2001), tt) ?1998" with
 "Trans2 (T2 (APP2 (V2 (CLO2 x (T2 t1) rho)) (V2 v2))) l
    (T2 (APP2 (V2 (CLO2 x e3 rho)) (V2 v2)))".
</pre>
To resolve this we unfold the label and use dependent equality. 
</div>
<div class="code">
<span class="id" type="keyword">Abort</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence3_app3"><span class="id" type="lemma">congruence3_app3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">rho</span> <span class="id" type="var">v2</span> <span class="id" type="var">a'</span> <span class="id" type="var">env</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#map_update"><span class="id" type="definition">map_update</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#APP3"><span class="id" type="constructor">APP3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CLO3"><span class="id" type="constructor">CLO3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#rho"><span class="id" type="variable">rho</span></a>)) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v2"><span class="id" type="variable">v2</span></a>))).<br/>
<span class="id" type="keyword">Proof</span>. &nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize_eqs</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_APP3"><span class="id" type="constructor">STEP3_APP3</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence3_if"><span class="id" type="lemma">congruence3_if</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> <span class="id" type="var">e'</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t"><span class="id" type="variable">t</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#IF3"><span class="id" type="constructor">IF3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_IF"><span class="id" type="constructor">STEP3_IF</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence3_eq1"><span class="id" type="lemma">congruence3_eq1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_EQ1"><span class="id" type="constructor">STEP3_EQ1</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence3_eq2"><span class="id" type="lemma">congruence3_eq2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">t2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t2"><span class="id" type="variable">t2</span></a>))) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#EQ3"><span class="id" type="constructor">EQ3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#V3"><span class="id" type="constructor">V3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2'"><span class="id" type="variable">e2'</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_EQ2"><span class="id" type="constructor">STEP3_EQ2</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span> ].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="congruence3_catch"><span class="id" type="lemma">congruence3_catch</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#get_exc3"><span class="id" type="definition">get_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#replace_exc3"><span class="id" type="definition">replace_exc3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#CATCH3"><span class="id" type="constructor">CATCH3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_CATCH"><span class="id" type="constructor">STEP3_CATCH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <span class="id" type="var">IHTrans3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">solve3</span> := <span class="id" type="tactic">try</span> <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="refocus_sound3"><span class="id" type="lemma">refocus_sound3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans3"><span class="id" type="lemma">trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence3_app1"><span class="id" type="lemma">congruence3_app1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans3"><span class="id" type="lemma">trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence3_app2"><span class="id" type="lemma">congruence3_app2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans3"><span class="id" type="lemma">trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence3_app3"><span class="id" type="lemma">congruence3_app3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans3"><span class="id" type="lemma">trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence3_if"><span class="id" type="lemma">congruence3_if</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>. <span class="id" type="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>. <span class="id" type="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans3"><span class="id" type="lemma">trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence3_eq1"><span class="id" type="lemma">congruence3_eq1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans3"><span class="id" type="lemma">trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence3_eq2"><span class="id" type="lemma">congruence3_eq2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TRANS3"><span class="id" type="constructor">TRANS3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#STEP3_EQN"><span class="id" type="constructor">STEP3_EQN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">solve3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#trans3"><span class="id" type="lemma">trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#congruence3_catch"><span class="id" type="lemma">congruence3_catch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHPBStep3_2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#REFL3"><span class="id" type="constructor">REFL3</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab28"></a><h3 class="section">Completeness of refocusing</h3>

<div class="paragraph"> </div>

 Helper lemma 1: a single step that terminates corresponds to a
    refocused step 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="single_abr_ter_refocus"><span class="id" type="lemma">single_abr_ter_refocus</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e'</span> <span class="id" type="var">env</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#ERR3"><span class="id" type="constructor">ERR3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H'</span> : <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#unobs_label3"><span class="id" type="definition">unobs_label3</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H'</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP1"><span class="id" type="constructor">PBSTEP3_APP1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP2"><span class="id" type="constructor">PBSTEP3_APP2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP3"><span class="id" type="constructor">PBSTEP3_APP3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_THROW"><span class="id" type="constructor">PBSTEP3_THROW</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_IF"><span class="id" type="constructor">PBSTEP3_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ1"><span class="id" type="constructor">PBSTEP3_EQ1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ2"><span class="id" type="constructor">PBSTEP3_EQ2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Helper lemma 2: a refocused step can be broken into a small-step
    and a pretty-big-step 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="pb_step_prepend"><span class="id" type="lemma">pb_step_prepend</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Step3"><span class="id" type="inductive">Step3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e3</span> <span class="id" type="var">a'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> (<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#T3"><span class="id" type="constructor">T3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#t1"><span class="id" type="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#env"><span class="id" type="variable">env</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#DNARROW"><span class="id" type="constructor">DNARROW</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#a'"><span class="id" type="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e3"><span class="id" type="variable">e3</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">t1</span> <span class="id" type="var">e2</span> <span class="id" type="var">env</span> <span class="id" type="var">a</span> <span class="id" type="var">H</span> <span class="id" type="var">e3</span> <span class="id" type="var">a'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize_eqs</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intro</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">e3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">a'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">env</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_VAR"><span class="id" type="constructor">PBSTEP3_VAR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_ABS"><span class="id" type="constructor">PBSTEP3_ABS</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP1"><span class="id" type="constructor">PBSTEP3_APP1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP1"><span class="id" type="constructor">PBSTEP3_APP1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP1"><span class="id" type="constructor">PBSTEP3_APP1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP1"><span class="id" type="constructor">PBSTEP3_APP1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP1"><span class="id" type="constructor">PBSTEP3_APP1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP2"><span class="id" type="constructor">PBSTEP3_APP2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP2"><span class="id" type="constructor">PBSTEP3_APP2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (2:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP2"><span class="id" type="constructor">PBSTEP3_APP2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (2:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP2"><span class="id" type="constructor">PBSTEP3_APP2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP3"><span class="id" type="constructor">PBSTEP3_APP3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP3"><span class="id" type="constructor">PBSTEP3_APP3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP3"><span class="id" type="constructor">PBSTEP3_APP3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_APP4"><span class="id" type="constructor">PBSTEP3_APP4</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_THROW"><span class="id" type="constructor">PBSTEP3_THROW</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_IF"><span class="id" type="constructor">PBSTEP3_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_IF"><span class="id" type="constructor">PBSTEP3_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_IF"><span class="id" type="constructor">PBSTEP3_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_IF"><span class="id" type="constructor">PBSTEP3_IF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_IFTRUE"><span class="id" type="constructor">PBSTEP3_IFTRUE</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_IFFALSE"><span class="id" type="constructor">PBSTEP3_IFFALSE</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ1"><span class="id" type="constructor">PBSTEP3_EQ1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ1"><span class="id" type="constructor">PBSTEP3_EQ1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ1"><span class="id" type="constructor">PBSTEP3_EQ1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ1"><span class="id" type="constructor">PBSTEP3_EQ1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ1"><span class="id" type="constructor">PBSTEP3_EQ1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ2"><span class="id" type="constructor">PBSTEP3_EQ2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ2"><span class="id" type="constructor">PBSTEP3_EQ2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ2"><span class="id" type="constructor">PBSTEP3_EQ2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ2"><span class="id" type="constructor">PBSTEP3_EQ2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQ"><span class="id" type="constructor">PBSTEP3_EQ</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_EQN"><span class="id" type="constructor">PBSTEP3_EQN</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_CATCH_V"><span class="id" type="constructor">PBSTEP3_CATCH_V</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_CATCH_ERR"><span class="id" type="constructor">PBSTEP3_CATCH_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_CATCH"><span class="id" type="constructor">PBSTEP3_CATCH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">instantiate</span> (1:=<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#TAU3"><span class="id" type="constructor">TAU3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_CATCH_V"><span class="id" type="constructor">PBSTEP3_CATCH_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#single_abr_ter_refocus"><span class="id" type="lemma">single_abr_ter_refocus</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_CATCH"><span class="id" type="constructor">PBSTEP3_CATCH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_CATCH_ERR"><span class="id" type="constructor">PBSTEP3_CATCH_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBSTEP3_CATCH"><span class="id" type="constructor">PBSTEP3_CATCH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHStep3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H12</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="refocus_complete"><span class="id" type="lemma">refocus_complete</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#Trans3"><span class="id" type="inductive">Trans3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_val3"><span class="id" type="definition">is_val3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#is_abr_ter3"><span class="id" type="definition">is_abr_ter3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBStep3"><span class="id" type="inductive">PBStep3</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> 1; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#pb_step_prepend"><span class="id" type="lemma">pb_step_prepend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHTrans3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_V"><span class="id" type="constructor">PBREFL3_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="sect_3_2_small_step_lambda_refocus.html#PBREFL3_ERR"><span class="id" type="constructor">PBREFL3_ERR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#I"><span class="id" type="constructor">I</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>